<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>æ‘é•·è„«è¡£å¨ƒå¨ƒå¤§ç¦®åŒ…-å®˜æ–¹æµ·å¤–å•†åº—</title>
  <style>
    :root{ --bg:#0b0f14; --card:#121a22; --muted:#6b7785; --text:#e6edf3; --acc:#4aa3ff; }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,#0b0f14,#0e141b 40%,#101720);color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto}
    .wrap{max-width:1100px;margin:40px auto;padding:0 16px}
    h1{font-size:28px;margin:0 0 16px}
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px}
    .card{background:var(--card);border:1px solid #1d2631;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
    .pad{padding:16px}
    .muted{color:var(--muted)}
    .btn{cursor:pointer;border:0;border-radius:12px;padding:10px 14px;background:var(--acc);color:#071522;font-weight:700}
    .btn:disabled{opacity:.6;cursor:not-allowed}
    .btn-ghost{background:transparent;border:1px solid #223040;color:var(--text)}
    .row{display:flex;gap:8px;align-items:center}
    .row > *{flex:1}
    input,select,textarea{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #223040;background:#0d141c;color:var(--text)}
    table{width:100%;border-collapse:collapse}
    th,td{padding:8px 10px;border-bottom:1px solid #1d2631}
    th{color:#9fb3c8;text-align:left}
    tfoot td{font-weight:700}
    .right{text-align:right}
    .tag{font-size:12px;padding:3px 8px;background:#0b1622;border:1px solid #223040;border-radius:999px;color:#8eb8ff}
    .qty{display:inline-flex;border:1px solid #223040;border-radius:10px;overflow:hidden;align-items:center}
    .qty button{all:unset;cursor:pointer;padding:6px 10px;background:#0b1622}
    .qty span{width:40px;text-align:center;display:inline-block;color:var(--text)}
    .ok{color:#6bff9b}
    .warn{color:#ffd06b}
    .error{color:#ff6b6b}
    .hint{font-size:12px;color:#9fb3c8}
    .contract-box{max-height:360px;overflow-y:auto;-webkit-overflow-scrolling:touch;background:#0d141c;border:1px solid #223040;border-radius:8px;padding:12px 14px;font-size:14px;line-height:1.6;white-space:pre-wrap;}
    .agree-row{display:flex;align-items:center;gap:6px;margin-top:8px}
    .agree-row input[type=checkbox]{width:16px;height:16px;vertical-align:middle;}
    .agree-row label{line-height:1;cursor:pointer}
    #status{margin-top:8px;font-size:14px}
    footer{margin-top:40px;padding:20px;background:#0d141c;border-top:1px solid #223040;border-radius:8px;color:var(--text);font-size:14px;line-height:1.6}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>æ‘é•·è„«è¡£å¨ƒå¨ƒå¤§ç¦®åŒ…-å®˜æ–¹æµ·å¤–å•†åº—</h1>

    <div class="grid">
      <!-- å•†å“æ¸…å–® -->
      <section class="card pad" style="grid-column: span 7;">
        <h2>å•†å“</h2>
        <div id="catalog"></div>
        <p class="hint" style="margin-top:8px">â€» é¡¯ç¤ºåƒ¹æ ¼ç‚º<strong>å•†å“å”®åƒ¹</strong>ï¼Œ<strong>ä¸å«é‹è²»</strong>ã€‚é‹è²»å°‡ä¾åœ‹å®¶ï¼åœ°å€èˆ‡å•†å“é‡é‡å°ºå¯¸<strong>å¦è¨ˆ</strong>ã€‚</p>
      </section>

      <!-- è³¼ç‰©è»Šèˆ‡çµå¸³è¡¨å–® -->
      <aside class="card pad" style="grid-column: span 5;">
        <h2>è³¼ç‰©è»Š</h2>
        <div id="cartEmpty" class="muted">å°šæœªé¸æ“‡å•†å“</div>
        <table id="cartTable" style="display:none">
          <thead><tr><th>å“å</th><th class="right">å–®åƒ¹</th><th class="right">æ•¸é‡</th><th class="right">å°è¨ˆ</th><th></th></tr></thead>
          <tbody id="cartBody"></tbody>
          <tfoot>
            <tr><td colspan="3" class="right">å•†å“åˆè¨ˆï¼ˆä¸å«é‹è²»ï¼‰</td><td class="right" id="itemsTotal">NT$ 0</td><td></td></tr>
          </tfoot>
        </table>
        <div style="height:12px"></div>
        <label class="hint" for="shipMethod">æ”¶ä»¶æ–¹å¼ï¼ˆé‹è²»å¦è¨ˆï¼‰ï¼š</label>
        <select id="shipMethod" style="margin-top:6px">
          <option value="">è«‹é¸æ“‡æ”¶ä»¶æ–¹å¼</option>
          <option value="711intl">7-11 åœ‹éš›è³£è²¨ä¾¿ï¼ˆé‹è²»å¦è¨ˆï¼‰</option>
          <option value="chpost">ä¸­è¯éƒµæ”¿ åœ‹éš›åŒ…è£¹ï¼ˆé‹è²»å¦è¨ˆï¼‰</option>
        </select>
        <p class="hint" style="margin-top:8px">é‹è²»å°‡ä¾åœ‹å®¶ï¼åœ°å€èˆ‡å•†å“é‡é‡å°ºå¯¸å¦è¨ˆï¼Œä¸¦æ–¼å¾ŒçºŒé€šçŸ¥ã€‚</p>
        <div style="height:12px"></div>

        <!-- é¡å¤–æ”¶ä»¶è³‡è¨Š -->
        <label for="country">æ”¶ä»¶ åœ‹å®¶/åœ°å€ï¼š</label>
        <input type="text" id="country" placeholder="ä¾‹ï¼šæ—¥æœ¬ / ç¾åœ‹ / æ–°åŠ å¡...">
        <div style="height:8px"></div>
        <label for="address">7-11åœ‹éš›äº¤è²¨ä¾¿æ”¶ä»¶é–€å¸‚è³‡è¨Š æˆ– æ”¶ä»¶åœ°å€ï¼š</label>
        <textarea id="address" rows="2"></textarea>
        <div style="height:8px"></div>
        <label for="contact">Instagramå¸³è™Ÿ æˆ– Email è¯çµ¡æ–¹å¼ (å»ºè­°ç•™IGå¸³è™Ÿ)ï¼š</label>
        <input type="text" id="contact" placeholder="@my_ig æˆ– example@mail.com">
        <div style="height:12px"></div>

        <!-- åˆç´„æ›¸èˆ‡åŒæ„é–‹é—œ -->
        <h3>è³¼è²·åˆç´„æ›¸</h3>
        <div class="contract-box" tabindex="0"> ...åˆç´„å…§å®¹ç•¥... </div>
        <div class="agree-row">
          <input type="checkbox" id="agreeContract">
          <label for="agreeContract">æˆ‘å·²é–±è®€ä¸¦åŒæ„è³¼è²·åˆç´„æ›¸</label>
        </div>

        <div style="height:12px"></div>
        <button class="btn" id="checkout">é€å‡ºè¨‚å–®</button>
        <div id="status" class="muted"></div>
      </aside>
    </div>

    <!-- è³‡è¨Šèˆ‡æé†’ -->
    <footer class="info-box">
      <p><strong>è¨‚å–®è™•ç†å¾Œæ‘é•·æœƒä¸»å‹•è¯ç¹«æ‚¨ï¼Œè«‹ç•™æ„é™Œç”Ÿè¨Šæ¯ã€‚</strong></p>
      <p>æé†’æ‚¨ï¼šè«‹å‹™å¿…èªæ˜è³£æ–¹å”¯ä¸€å®˜æ–¹ IG å¸³è™Ÿï¼š<strong>jiajiou_studio</strong></p>
      <p>æ‘é•· / JIA JIOU INC. ä¸æœƒä»¥ä»»ä½•ç†ç”±å‘æ‚¨ç´¢å–éŠ€è¡Œå¸³è™Ÿã€ä¿¡ç”¨å¡å¡è™Ÿã€é‡‘èå¯†ç¢¼æˆ–ç°¡è¨Šé©—è­‰ç¢¼ã€‚<br>
         æ‰€æœ‰äº¤æ˜“åƒ…é€é <strong>è—æ–°é‡‘æµï¼ˆNewebPayï¼‰</strong> é€²è¡Œæ”¶æ¬¾ï¼Œè«‹æ¶ˆè²»è€…æé«˜è­¦è¦ºï¼Œä»¥é¿å…é­å—è©é¨™ã€‚</p>
      <p>å¦‚æœ‰ä»»ä½•ç–‘å•ï¼Œè«‹é€éå®˜æ–¹ç®¡é“è¯ç¹«ï¼š</p>
      <ul>
        <li>ğŸ“© å®˜æ–¹ Emailï¼š<a href="mailto:jiajiou@jiajiou.com">jiajiou@jiajiou.com</a></li>
        <li>ğŸ“± å®˜æ–¹ IGï¼š<a href="https://instagram.com/jiajiou_studio" target="_blank">jiajiou_studio</a></li>
      </ul>
      <hr>
      <p><strong>å…¬å¸è³‡è¨Š</strong></p>
      <ul>
        <li>Instagramï¼šjiajiou_studio</li>
        <li>Emailï¼šjiajiou@jiajiou.com</li>
        <li>å…¬å¸ï¼šåŠ ç–æœ‰é™å…¬å¸ (JIA JIOU INC.)</li>
        <li>çµ±ç·¨ï¼š60794845</li>
      </ul>
    </footer>
  </div>

  <script>
    const fmt = { format: (n) => `NT$ ${new Intl.NumberFormat('zh-TW', { minimumFractionDigits: 0, maximumFractionDigits: 2 }).format(n)}` };

    const CATALOG = [
      { id: "A01", name: "æ‘é•·è„«è¡£å¨ƒå¨ƒå¤§ç¦®åŒ…", price: 350 }
    ];

    const state = { cart:[], shipMethod: '' };

    function renderCatalog(){
      const root = document.getElementById('catalog');
      root.innerHTML = '';
      CATALOG.forEach(p => {
        const card = document.createElement('div');
        card.className = 'card pad';
        card.style.marginBottom = '10px';
        card.innerHTML = `
          <div class="row" style="align-items:flex-start;gap:12px">
            <div style="flex:1">
              <div style="font-weight:700;font-size:18px">${p.name}</div>
              <div class="muted">#${p.id}</div>
            </div>
            <div class="right" style="min-width:180px">
              <div style="font-weight:700">${fmt.format(p.price)}</div>
              <div style="height:6px"></div>
              <div class="qty">
                <button onclick="changeQty('${p.id}', -1)">-</button>
                <span id="qty-${p.id}">1</span>
                <button onclick="changeQty('${p.id}', 1)">+</button>
              </div>
              <div style="height:6px"></div>
              <button class="btn" onclick="addToCart('${p.id}')">åŠ å…¥è³¼ç‰©è»Š</button>
            </div>
          </div>`;
        root.appendChild(card);
      });
    }

    function changeQty(id, d){
      const el = document.getElementById('qty-'+id);
      let v = parseInt(el.textContent||'1',10)+d;
      v = Math.min(999, Math.max(1, v));
      el.textContent = v;
    }

    function addToCart(id){
      const qty = parseInt(document.getElementById('qty-'+id).textContent||'1',10);
      const exist = state.cart.find(x => x.id === id);
      if(exist) exist.qty = Math.min(999, exist.qty + qty); else state.cart.push({ id, qty });
      renderCart();
    }

    function removeFromCart(id){ state.cart = state.cart.filter(x => x.id !== id); renderCart(); }

    function updateLineQty(id, d){
      const line = state.cart.find(x=>x.id===id); if(!line) return;
      line.qty = Math.min(999, Math.max(1, (line.qty||1)+d));
      renderCart();
    }

    function renderCart(){
      const empty = document.getElementById('cartEmpty');
      const table = document.getElementById('cartTable');
      const body = document.getElementById('cartBody');
      body.innerHTML = '';
      if(state.cart.length === 0){ empty.style.display='block'; table.style.display='none'; updateTotals(0); return; }
      empty.style.display='none'; table.style.display='table';

      let itemsTotal = 0;
      for(const line of state.cart){
        const p = CATALOG.find(x=>x.id===line.id); if(!p) continue;
        const sub = p.price * line.qty; itemsTotal += sub;
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${p.name}</td>
          <td class="right">${fmt.format(p.price)}</td>
          <td class="right">
            <div class="qty" style="float:right">
              <button onclick="updateLineQty('${line.id}', -1)">-</button>
              <span>${line.qty}</span>
              <button onclick="updateLineQty('${line.id}', 1)">+</button>
            </div>
          </td>
          <td class="right">${fmt.format(sub)}</td>
          <td class="right"><button class="btn-ghost" onclick="removeFromCart('${line.id}')">åˆªé™¤</button></td>`;
        body.appendChild(tr);
      }

      updateTotals(itemsTotal);
    }

    function updateTotals(itemsTotal){
      const itemsEl = document.getElementById('itemsTotal');
      if (itemsEl) itemsEl.textContent = fmt.format(itemsTotal);
    }

    function checkout(){
      const status = document.getElementById('status');
      status.textContent = '';

      if(state.cart.length === 0){
        status.innerHTML = '<span class="error">â›” è«‹å…ˆå°‡å•†å“åŠ å…¥è³¼ç‰©è»Š</span>';
        return;
      }
      if(!state.shipMethod){
        status.innerHTML = '<span class="error">â›” è«‹é¸æ“‡æ”¶ä»¶æ–¹å¼</span>';
        return;
      }
      const country = document.getElementById('country').value.trim();
      if(!country){
        status.innerHTML = '<span class="error">â›” è«‹å¡«å¯«æ”¶ä»¶åœ‹å®¶/åœ°å€</span>';
        return;
      }
      const address = document.getElementById('address').value.trim();
      if(!address){
        status.innerHTML = '<span class="error">â›” è«‹å¡«å¯«7-11åœ‹éš›äº¤è²¨ä¾¿é–€å¸‚è³‡è¨Šæˆ–æ”¶ä»¶åœ°å€</span>';
        return;
      }
      const contact = document.getElementById('contact').value.trim();
      if(!contact){
        status.innerHTML = '<span class="error">â›” è«‹å¡«å¯«è¯çµ¡æ–¹å¼ (å»ºè­°ç•™IGå¸³è™Ÿ)</span>';
        return;
      }
      const agree = document.getElementById('agreeContract').checked;
      if(!agree){
        status.innerHTML = '<span class="error">â›” è«‹å…ˆé–±è®€ä¸¦åŒæ„è³¼è²·åˆç´„æ›¸</span>';
        return;
      }

      const method = state.shipMethod === '711intl' ? '7-11 åœ‹éš›è³£è²¨ä¾¿' : 'ä¸­è¯éƒµæ”¿ åœ‹éš›åŒ…è£¹';
      status.innerHTML = `<span class="ok">âœ… è¨‚å–®å·²é€šéæª¢æŸ¥ï¼Œç¤ºç¯„é€å‡º...<br>æ”¶ä»¶æ–¹å¼ï¼š${method}<br>åœ‹å®¶/åœ°å€ï¼š${country}<br>åœ°å€ï¼š${address}<br>è¯çµ¡æ–¹å¼ï¼š${contact}<br>é‹è²»ï¼šå¦è¨ˆ<br>åˆç´„ï¼šå·²åŒæ„</span>`;
    }

    function boot(){
      renderCatalog();
      renderCart();
      const shipSel = document.getElementById('shipMethod');
      if (shipSel) shipSel.addEventListener('change', (e)=>{ state.shipMethod = e.target.value; });
      document.getElementById('checkout').addEventListener('click', checkout);
    }
    boot();
    window.changeQty = changeQty;
    window.addToCart = addToCart;
    window.updateLineQty = updateLineQty;
    window.removeFromCart = removeFromCart;

  </script>
</body>
</html>
